Index: src/main/java/Frame.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import javax.swing.*;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.event.ChangeListener;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.WindowAdapter;\r\nimport java.awt.event.WindowEvent;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class Frame{\r\n    private JFrame frame;\r\n    private JTextField firstTextField;\r\n    private JPanel panelSpoiler;\r\n    private JPanel panelNeighbours;\r\n    private  JPanel panelDisplayedResults;\r\n\r\n    private JTextArea outputArea;\r\n\r\n    private String searchBy;\r\n\r\n\r\n    private List<List<List<String>>> src;\r\n    private int numberOfNeighbours=2;\r\n    private int numberOfDisplayedResults = 10;\r\n\r\n\r\n    Frame(){\r\n        frame=new JFrame(\"Test\");\r\n        frame.setSize(1000,600);\r\n        firstTextField=new JTextField(60);\r\n\r\n        firstTextField.setMaximumSize(new Dimension(200,50));\r\n\r\n\r\n        Dimension size = new Dimension(95, 30);\r\n\r\n        JButton loadButton = new JButton(\"load\");\r\n        loadButton.setMaximumSize(size);\r\n        loadButton.addActionListener(new LoadButtonHandler());\r\n\r\n        JButton searchButton = new JButton(\"search\");\r\n        searchButton.setMaximumSize(size);\r\n        searchButton.addActionListener(new SearchButtonHandler());\r\n\r\n        JRadioButton lemma = new JRadioButton(\"Lemma\");\r\n        JRadioButton pos = new JRadioButton(\"POS\");\r\n        JRadioButton word = new JRadioButton(\"Word\");\r\n\r\n        ButtonGroup buttonGroup = new ButtonGroup();\r\n        buttonGroup.add(lemma);\r\n        buttonGroup.add(pos);\r\n        buttonGroup.add(word);\r\n\r\n        lemma.addActionListener(new WordPosLemmaButtonHandler());\r\n        pos.addActionListener(new WordPosLemmaButtonHandler());\r\n        word.addActionListener(new WordPosLemmaButtonHandler());\r\n\r\n        Box box1 = Box.createVerticalBox();\r\n        box1.add(lemma);\r\n        box1.add(pos);\r\n        box1.add(word);\r\n\r\n        JPanel panel1=new JPanel();\r\n        BoxLayout aBoxLayout = new BoxLayout(panel1,BoxLayout.X_AXIS);\r\n        panel1.setLayout(aBoxLayout);\r\n\r\n        panel1.add(Box.createRigidArea(new Dimension(0,5)));\r\n        panel1.add(loadButton);\r\n        panel1.add(firstTextField);\r\n        panel1.add(box1);\r\n        panel1.add(Box.createHorizontalGlue());\r\n        panel1.add(searchButton);\r\n        //panel with spoiler panel\r\n        JPanel panel2=new JPanel();\r\n        BoxLayout bBoxLayout = new BoxLayout(panel2,BoxLayout.Y_AXIS);\r\n        panel2.setLayout(bBoxLayout);\r\n\r\n        panel2.add(Box.createRigidArea(new Dimension(0,5)));\r\n\r\n        JButton spoilerButton = new JButton(\"Additional filters\");\r\n        spoilerButton.setMaximumSize(new Dimension(frame.getWidth(),30));\r\n        spoilerButton.addActionListener(new SpoilerButtonHandler());\r\n        spoilerButton.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n\r\n        panel2.add(spoilerButton);\r\n\r\n        panel2.add(Box.createRigidArea(new Dimension(0,5)));\r\n        //spoiler panel\r\n        panelSpoiler=new JPanel();\r\n        BoxLayout spoilerBoxLayout = new BoxLayout(panelSpoiler,BoxLayout.X_AXIS);\r\n        panelSpoiler.setLayout(spoilerBoxLayout);\r\n\r\n        panel2.add(panelSpoiler);\r\n\r\n        JList<CheckboxListItem> list = new JList<CheckboxListItem>(\r\n                new CheckboxListItem[] { new CheckboxListItem(\"apple\"),\r\n                        new CheckboxListItem(\"orange\"),\r\n                        new CheckboxListItem(\"mango\"),\r\n                        new CheckboxListItem(\"paw paw\"),\r\n                        new CheckboxListItem(\"banana\") });\r\n\r\n        list.setCellRenderer(new CheckboxListRenderer());\r\n        list.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n\r\n        panelSpoiler.add(new JScrollPane(list));\r\n\r\n        panelNeighbours=new JPanel();\r\n        BoxLayout neigboursBoxLayout = new BoxLayout(panelNeighbours,BoxLayout.Y_AXIS);\r\n        panelNeighbours.setLayout(neigboursBoxLayout);\r\n        panelSpoiler.add(panelNeighbours);\r\n\r\n        JLabel neighbours= new JLabel(\"Neighbours\");\r\n        neighbours.setMaximumSize(size);\r\n\r\n        Integer[] neighboursStrings = {0, 1,2,3,4,5,6,7,8,9,10};\r\n        SpinnerListModel neighboursModel = new SpinnerListModel(neighboursStrings);\r\n        JSpinner spinner = new JSpinner(neighboursModel);\r\n        spinner.setMaximumSize(size);\r\n        spinner.setValue(numberOfNeighbours);\r\n        spinner.addChangeListener(new spinnerListener());\r\n\r\n        panelNeighbours.add(neighbours);\r\n        panelNeighbours.add(spinner);\r\n        neighbours.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n        spinner.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n\r\n        panelSpoiler.add(Box.createRigidArea(new Dimension(5,0)));\r\n\r\n        panelDisplayedResults=new JPanel();\r\n        BoxLayout displayedResultsLayout = new BoxLayout(panelDisplayedResults,BoxLayout.Y_AXIS);\r\n        panelDisplayedResults.setLayout(displayedResultsLayout);\r\n        panelSpoiler.add(panelDisplayedResults);\r\n\r\n        JLabel displayedResults= new JLabel(\"Amount of displayed results\");\r\n        displayedResults.setMaximumSize(new Dimension(300,30));\r\n\r\n        JSlider slider = new JSlider(JSlider.HORIZONTAL,\r\n                1, 50, numberOfDisplayedResults);\r\n        slider.setMaximumSize(new Dimension(300,100));\r\n        slider.setMajorTickSpacing(10);\r\n        slider.setMinorTickSpacing(1);\r\n        slider.setPaintTicks(true);\r\n        slider.setPaintLabels(true);\r\n        slider.addChangeListener(new sliderListener());\r\n\r\n        panelDisplayedResults.add(displayedResults);\r\n        panelDisplayedResults.add(slider);\r\n        displayedResults.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n        slider.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n\r\n\r\n        JPanel panel3=new JPanel();\r\n        BoxLayout cBoxLayout = new BoxLayout(panel3,BoxLayout.X_AXIS);\r\n        panel3.setLayout(cBoxLayout);\r\n\r\n        panel3.add(Box.createRigidArea(new Dimension(0,5)));\r\n\r\n\r\n        frame.getContentPane().setLayout(new BoxLayout(frame.getContentPane(),BoxLayout.Y_AXIS));\r\n        frame.getContentPane().add(panel1);\r\n        frame.getContentPane().add(panel2);\r\n        frame.getContentPane().add(panel3);\r\n        //This is the common size of the buttons\r\n\r\n        frame.addWindowListener(new MyWindowListener());\r\n        frame.setVisible(true);\r\n\r\n\r\n        // Create the JTextArea for displaying the output\r\n        outputArea = new JTextArea();\r\n        outputArea.setEditable(false); // Make it read-only\r\n        frame.add(outputArea);\r\n\r\n    }\r\n    public class SpoilerButtonHandler implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n            if (panelSpoiler.isVisible()){\r\n                panelSpoiler.setVisible(false);\r\n\r\n            } else {\r\n\r\n                panelSpoiler.setVisible(true);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public class LoadButtonHandler implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n            JFileChooser fileChooser = new JFileChooser();\r\n            fileChooser.setCurrentDirectory(new File(System.getProperty(\"user.home\")));\r\n            int result = fileChooser.showOpenDialog(frame);\r\n            if (result == JFileChooser.APPROVE_OPTION) {\r\n                File selectedFile = fileChooser.getSelectedFile();\r\n\r\n            String text=\"\";\r\n            Scanner inputStream;\r\n            try{\r\n                inputStream=new Scanner(selectedFile);\r\n\r\n            } catch (FileNotFoundException ex) {\r\n                JOptionPane.showMessageDialog(frame,\"File can not be found\");\r\n                throw new RuntimeException(ex);\r\n            }\r\n            while (inputStream.hasNextLine()){\r\n                text=text+inputStream.nextLine();\r\n            }\r\n\r\n            CorpusBuilder corp= new CorpusBuilder(text);\r\n            corp.getSentences();\r\n            corp.getTokens();\r\n            corp.getPosTags();\r\n            corp.getLemmas();\r\n\r\n            src = corp.getWordPosLemma();\r\n\r\n            inputStream.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    private class spinnerListener implements ChangeListener {\r\n        public void stateChanged(ChangeEvent e) {\r\n            JSpinner spinner= (JSpinner) e.getSource();\r\n            SpinnerModel spinnerModel = (SpinnerModel) spinner.getModel();\r\n            if (spinnerModel instanceof SpinnerDateModel) {\r\n                numberOfNeighbours=(int)spinnerModel.getValue();\r\n            }\r\n        }\r\n    }\r\n    private class sliderListener implements ChangeListener {\r\n        public void stateChanged(ChangeEvent e) {\r\n\r\n        JSlider source = (JSlider) e.getSource();\r\n        if(!source.getValueIsAdjusting())\r\n\r\n        {\r\n             numberOfDisplayedResults= source.getValue();\r\n\r\n        }\r\n    }\r\n    }\r\n    private class QuitButtonHandler implements ActionListener {\r\n\r\n        public void actionPerformed(ActionEvent e) {\r\n            System.exit(0);\r\n        }\r\n    }\r\n    private class MyWindowListener extends WindowAdapter {\r\n\r\n        public void windowClosing(WindowEvent e) {\r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\n    private class WordPosLemmaButtonHandler implements ActionListener {\r\n\r\n        public void actionPerformed(ActionEvent e) {\r\n            JRadioButton button = (JRadioButton) e.getSource();\r\n            searchBy = button.getText();\r\n        }\r\n    }\r\n\r\n\r\n    private class SearchButtonHandler implements ActionListener {\r\n        String s = firstTextField.getText();\r\n        public void actionPerformed(ActionEvent e) {\r\n            if (searchBy.equals(\"Word\")){\r\n                for (int i=0;i<src.size();i++){   //iteration by sentences\r\n                    for (int k=0;k<src.get(i).size();k++){   //iteration by words\r\n                        if (src.get(i).get(k).get(0).equals(s)){\r\n                            System.out.println(src.get(i)); //prints a list of tokens, lemmas and pos tags\r\n                            //src.get(i).get(k).get(1) -- POS tag of the word\r\n                            System.out.println(getContextWords(src.get(i), k, numberOfNeighbours)); //prints final sentences with neighbours\r\n                        }\r\n                    }\r\n                }\r\n            } else if (searchBy.equals(\"Lemma\")) {\r\n\r\n\r\n            } else if (searchBy.equals(\"POS\")) {\r\n\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Helper method that gets a list from CorpusBuilder, index of the word and the number of neighbours\r\n     * @param sentenceList\r\n     * @param index\r\n     * @param numNeighbours\r\n     * @return a string with word and his neighbours\r\n     */\r\n    private static String getContextWords (List<List<String>> sentenceList, int index, int numNeighbours){\r\n        ArrayList<String> contextWords = new ArrayList<>();\r\n        ArrayList<String> sentenceArrayList = new ArrayList<>();\r\n\r\n        for (List<String> list : sentenceList) {\r\n            if (!list.isEmpty()) {\r\n                sentenceArrayList.add(list.get(0));\r\n            }\r\n        }\r\n\r\n        if (index >= numNeighbours) {\r\n            contextWords.addAll(sentenceArrayList.subList((index - numNeighbours), index));\r\n        } else {\r\n            contextWords.addAll(sentenceArrayList.subList(0, index));\r\n        }\r\n\r\n        if (index < sentenceList.size() - numNeighbours - 1) {\r\n            contextWords.addAll(sentenceArrayList.subList(index + 1, index + numNeighbours + 1));\r\n        } else {\r\n            contextWords.addAll(sentenceArrayList.subList(index + 1, sentenceList.size()));\r\n        }\r\n\r\n        return String.join(\", \", contextWords);\r\n    }\r\n\r\n    class CheckboxListRenderer extends JCheckBox implements\r\n            ListCellRenderer<CheckboxListItem> {\r\n\r\n        @Override\r\n        public Component getListCellRendererComponent(\r\n                JList<? extends CheckboxListItem> list, CheckboxListItem value,\r\n                int index, boolean isSelected, boolean cellHasFocus) {\r\n            setEnabled(list.isEnabled());\r\n            setSelected(value.isSelected());\r\n            setFont(list.getFont());\r\n            setBackground(list.getBackground());\r\n            setForeground(list.getForeground());\r\n            setText(value.toString());\r\n            return this;\r\n        }\r\n    }\r\n    public class CheckboxListItem {\r\n\r\n        private String label;\r\n        private boolean isSelected = false;\r\n\r\n        public CheckboxListItem(String label) {\r\n            this.label = label;\r\n        }\r\n\r\n        public boolean isSelected() {\r\n            return isSelected;\r\n        }\r\n\r\n        public void setSelected(boolean isSelected) {\r\n            this.isSelected = isSelected;\r\n        }\r\n\r\n        public String toString() {\r\n            return label;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        new Frame();\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/Frame.java b/src/main/java/Frame.java
--- a/src/main/java/Frame.java	(revision 95512d265b4363906c5670de9756f07a82891924)
+++ b/src/main/java/Frame.java	(date 1688290947860)
@@ -95,6 +95,7 @@
         panelSpoiler=new JPanel();
         BoxLayout spoilerBoxLayout = new BoxLayout(panelSpoiler,BoxLayout.X_AXIS);
         panelSpoiler.setLayout(spoilerBoxLayout);
+        panelSpoiler.setVisible(false);
 
         panel2.add(panelSpoiler);
 
@@ -198,29 +199,28 @@
             int result = fileChooser.showOpenDialog(frame);
             if (result == JFileChooser.APPROVE_OPTION) {
                 File selectedFile = fileChooser.getSelectedFile();
-
-            String text="";
-            Scanner inputStream;
-            try{
-                inputStream=new Scanner(selectedFile);
+                String text="";
+                Scanner inputStream;
+                try{
+                    inputStream=new Scanner(selectedFile);
 
-            } catch (FileNotFoundException ex) {
-                JOptionPane.showMessageDialog(frame,"File can not be found");
-                throw new RuntimeException(ex);
-            }
-            while (inputStream.hasNextLine()){
-                text=text+inputStream.nextLine();
-            }
+                } catch (FileNotFoundException ex) {
+                    JOptionPane.showMessageDialog(frame,"File can not be found");
+                    throw new RuntimeException(ex);
+                }
+                while (inputStream.hasNextLine()){
+                    text=text+inputStream.nextLine();
+                }
 
-            CorpusBuilder corp= new CorpusBuilder(text);
-            corp.getSentences();
-            corp.getTokens();
-            corp.getPosTags();
-            corp.getLemmas();
+                CorpusBuilder corp= new CorpusBuilder(text);
+                corp.getSentences();
+                corp.getTokens();
+                corp.getPosTags();
+                corp.getLemmas();
 
-            src = corp.getWordPosLemma();
+                src = corp.getWordPosLemma();
 
-            inputStream.close();
+                inputStream.close();
             }
         }
     }
